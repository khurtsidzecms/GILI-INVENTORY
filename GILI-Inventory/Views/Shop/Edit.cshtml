@model ShopCUVM
@{
    ViewData["Title"] = "მაღაზიის რედაქტირება";
}

<div class="dashboard-wrapper">
    <div class="container-fluid  dashboard-content">
        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                @if (ViewBag.Message != null)
                {
                    <div class="alert alert-success" role="alert">
                        @ViewBag.Message
                    </div>
                }
                <div class="card">
                    <h5 class="card-header fgnb">მაღაზიის რედაქტირება</h5>
                    <div class="card-body">
                        <form asp-action="Edit">
                            <input asp-for="Shop.Id" type="hidden" />

                            <partial name="~/Views/Shop/Helper/ShopCUViewForm.cshtml" model="Model" />

                            <div class="form-group">
                                <button type="submit" class="btn btn-success fgnb">რედაქტირება</button>
                                <a asp-action="Index" class="float-right fga" style="margin-top: 5px;">უკან დაბრუნება</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


@section Scripts {
    <script>
    $("table .chkbox").change(function (e) {
        if (!$(this).is(":checked")) {
            var product = $(this).parent().parent();
            $(product).find('.barcode').val('');
            $(product).find('.price').val('0');
        }
    });

    function onlyNumbersValidate() {
        var $input = $(this);
        $input.val($input.val().replace(/[^\d]+/g,''));
    }

    $("table tbody tr").on("propertychange input", ".barcode", onlyNumbersValidate);
    </script>
}